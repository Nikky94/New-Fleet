<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é€²éšè»ŠéšŠç‡Ÿé‹ç¸¾æ•ˆå ±è¡¨</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .tabs {
            display: flex;
            background: #f5f5f5;
            border-bottom: 2px solid #ddd;
            overflow-x: auto;
        }
        
        .tab-btn {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 1em;
            color: #666;
            transition: all 0.3s;
            white-space: nowrap;
            min-width: 150px;
        }
        
        .tab-btn:hover {
            background: #e0e0e0;
            color: #333;
        }
        
        .tab-btn.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
            font-weight: bold;
        }
        
        .content {
            padding: 30px;
            min-height: 600px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .stat-card h3 {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        .stat-card .value {
            font-size: 2em;
            font-weight: bold;
        }
        
        .stat-card .unit {
            font-size: 0.8em;
            opacity: 0.8;
            margin-top: 5px;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .chart-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 1024px) {
            .chart-row {
                grid-template-columns: 1fr;
            }
        }
        
        .table-container {
            overflow-x: auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95em;
        }
        
        th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }
        
        tr:hover {
            background: #f9f9f9;
        }
        
        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }
        
        .status-critical {
            background: #ff6b6b;
            color: white;
        }
        
        .status-warning {
            background: #ffd93d;
            color: #333;
        }
        
        .status-normal {
            background: #51cf66;
            color: white;
        }
        
        .status-completed {
            background: #868e96;
            color: white;
        }
        
        .status-terminated {
            background: #ff922b;
            color: white;
        }
        
        .search-filter {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .search-filter input,
        .search-filter select {
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 0.95em;
        }
        
        .search-filter input {
            flex: 1;
            min-width: 200px;
        }
        
        .footer {
            background: #f5f5f5;
            padding: 20px;
            text-align: center;
            color: #666;
            font-size: 0.9em;
            border-top: 1px solid #ddd;
        }
        
        .legend {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 20px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 5px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }

        .profit-positive {
            color: #51cf66;
            font-weight: bold;
        }

        .profit-negative {
            color: #ff6b6b;
            font-weight: bold;
        }

        .summary-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .summary-box h3 {
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .summary-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .summary-item {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 5px;
            text-align: center;
        }

        .summary-item .label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .summary-item .value {
            font-size: 1.5em;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ‘® å¤©é·¹ä¿å…¨è»ŠéšŠ</h1>
            <p> ç¸¾æ•ˆç®¡ç†å ±è¡¨ </p>
        </div>
        
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('overview')">ğŸ“Š ç¸½è¦½</button>
            <button class="tab-btn" onclick="switchTab('trends')">ğŸ“ˆ é¢¨éšª</button>
            <button class="tab-btn" onclick="switchTab('vehicles')">ğŸš™ ç§Ÿè³ƒ</button>
            <button class="tab-btn" onclick="switchTab('sold')">âœ… å‡ºå”®</button>
            <button class="tab-btn" onclick="switchTab('terminated')">â›” ç•°å¸¸</button>
            <button class="tab-btn" onclick="switchTab('profitability')">ğŸ’° å€‹åˆ¥æç›Š</button>
            <button class="tab-btn" onclick="switchTab('costs')">ğŸ”§ æˆæœ¬çµæ§‹</button>
        </div>
        
        <div class="content">
            <!-- ç¸½è¦½ -->
            <div id="overview" class="tab-content active">
                <h2 style="margin-bottom: 20px;">ç¾æ³</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>ä¿æœ‰è»Š</h3>
                        <div class="value" id="totalVehicles">120</div>
                        <div class="unit">å°</div>
                    </div>
                    <div class="stat-card">
                        <h3>ç§Ÿç”¨ä¸­</h3>
                        <div class="value" id="activeVehicles">85</div>
                        <div class="unit">å°</div>
                    </div>
                    <div class="stat-card">
                        <h3>è‡ªè³¼è»Š</h3>
                        <div class="value" id="idleVehicles">12</div>
                        <div class="unit">å°</div>
                    </div>
                    <div class="stat-card">
                        <h3>ç¶­ä¿®ä¸­</h3>
                        <div class="value" id="maintenanceVehicles">8</div>
                        <div class="unit">å°</div>
                    </div>
                    <div class="stat-card">
                        <h3>å·²å‡ºå”®</h3>
                        <div class="value" id="soldVehicles">5</div>
                        <div class="unit">å°</div>
                    </div>
                    <div class="stat-card">
                        <h3>å·²è§£ç´„</h3>
                        <div class="value" id="terminatedVehicles">10</div>
                        <div class="unit">å°</div>
                    </div>
                </div>
                
                <div class="chart-row">
                    <div class="chart-container">
                        <canvas id="statusChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="typeChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-row">
                    <div class="chart-container">
                        <canvas id="ageChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="typePerformanceChart"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- é¢¨éšª -->
            <div id="trends" class="tab-content">
                <h2 style="margin-bottom: 20px;">ç”¨è»Šç¿’æ…£</h2>
                
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #667eea;"></div>
                        <span>éå»5å¹´ (å¯¦ç¸¾)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ffd93d;"></div>
                        <span>æœªä¾†5å¹´ (é æ¸¬)</span>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="revenueChart"></canvas>
                </div>
                
                <div class="chart-row">
                    <div class="chart-container">
                        <canvas id="claimRateChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="utilizationChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="profitTrendChart"></canvas>
                </div>
            </div>
            
            <!-- ç§Ÿç”¨è»Šè¼› -->
            <div id="vehicles" class="tab-content">
                <h2 style="margin-bottom: 20px;">å¯¦è¡Œä¸­</h2>
                
                <div class="search-filter">
                    <input type="text" id="searchVehicle" placeholder="ğŸ” æœå°‹è»Šç‰Œ / è»Šå‹..." onkeyup="filterVehicles()">
                    <select id="statusFilter" onchange="filterVehicles()">
                        <option value="">å…¨éƒ¨ç‹€æ…‹</option>
                        <option value="critical">ğŸ”´ ç·Šæ€¥</option>
                        <option value="warning">ğŸŸ¡ è­¦ç¤º</option>
                        <option value="normal">ğŸŸ¢ ä¸€èˆ¬</option>
                    </select>
                </div>
                
                <div class="chart-row">
                    <div class="chart-container">
                        <canvas id="expiryTimelineChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="expiryProfitChart"></canvas>
                    </div>
                </div>
                
                <div class="table-container">
                    <table id="vehicleTable">
                        <thead>
                            <tr>
                                <th>ç·¨ç¢¼</th>
                                <th>è»Šè™Ÿ</th>
                                <th>è»Šå‹</th>
                                <th>åˆ°æœŸæ—¥</th>
                                <th>æ”¶ç›Š</th>
                                <th>æˆæœ¬</th>
                                <th>æ·¨åˆ©</th>
                                <th>åˆ©æ½¤ç‡</th>
                                <th>ä½¿ç”¨ç‡</th>
                                <th>ç‹€æ…‹</th>
                                <th>å»ºè­°</th>
                            </tr>
                        </thead>
                        <tbody id="vehicleTableBody">
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- å·²å‡ºå”® -->
            <div id="sold" class="tab-content">
                <h2 style="margin-bottom: 20px;">çµæ¡ˆæ˜ç´°</h2>

                <div class="summary-box">
                    <h3>æ‘˜è¦</h3>
                    <div class="summary-content">
                        <div class="summary-item">
                            <div class="label">å°æ•¸</div>
                            <div class="value" id="soldCount">5</div>
                        </div>
                        <div class="summary-item">
                            <div class="label">è³¼è»Šæˆæœ¬</div>
                            <div class="value" id="soldTotalPurchase">$5.7M</div>
                        </div>
                        <div class="summary-item">
                            <div class="label">æ‹è³£æ”¶å…¥</div>
                            <div class="value" id="soldTotalSale">$2.65M</div>
                        </div>
                        <div class="summary-item">
                            <div class="label">ç§Ÿé‡‘æ”¶å…¥(å«å…¶ä»–)</div>
                            <div class="value" id="soldTotalRental">$22.0M</div>
                        </div>
                        <div class="summary-item">
                            <div class="label">ç‡Ÿé‹æˆæœ¬</div>
                            <div class="value" id="soldTotalCost">$15.15M</div>
                        </div>
                        <div class="summary-item">
                            <div class="label">æç›Šç´¯è¨ˆ</div>
                            <div class="value profit-positive" id="soldTotalProfit">$4.95M</div>
                        </div>
                    </div>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>ç·¨ç¢¼</th>
                                <th>è»Šè™Ÿ</th>
                                <th>è»Šå‹</th>
                                <th>è³¼å…¥æ—¥</th>
                                <th>å‡ºå”®æ—¥</th>
                                <th>è³¼è»Šåƒ¹</th>
                                <th>å‡ºå”®åƒ¹</th>
                                <th>ç§Ÿé‡‘æ”¶å…¥</th>
                                <th>ç‡Ÿé‹æˆæœ¬</th>
                                <th>ç¸½æç›Š</th>
                                <th>æŒæœ‰å¹´é™</th>
                                <th>å‚™è¨»</th>
                            </tr>
                        </thead>
                        <tbody id="soldTableBody">
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- è§£ç´„ -->
            <div id="terminated" class="tab-content">
                <h2 style="margin-bottom: 20px;">ä¸­é€”è§£ç´„</h2>

                <div class="summary-box">
                    <h3>æ‘˜è¦</h3>
                    <div class="summary-content">
                        <div class="summary-item">
                            <div class="label">å°æ•¸</div>
                            <div class="value" id="termCount">5</div>
                        </div>
                        <div class="summary-item">
                            <div class="label">è³¼è»Šæˆæœ¬</div>
                            <div class="value" id="termTotalPurchase">$5.9M</div>
                        </div>
                        <div class="summary-item">
                            <div class="label">ç§Ÿé‡‘æ”¶å…¥</div>
                            <div class="value" id="termTotalRental">$9.75M</div>
                        </div>
                        <div class="summary-item">
                            <div class="label">è§£ç´„é‡‘æ”¶å…¥</div>
                            <div class="value" id="termTotalFee">$0.87M</div>
                        </div>
                        <div class="summary-item">
                            <div class="label">ç‡Ÿé‹æˆæœ¬</div>
                            <div class="value" id="termTotalCost">$7.65M</div>
                        </div>
                        <div class="summary-item">
                            <div class="label">æç›Šç´¯è¨ˆ</div>
                            <div class="value profit-positive" id="termTotalProfit">$3.27M</div>
                        </div>
                    </div>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>ç·¨ç¢¼</th>
                                <th>è»Šè™Ÿ</th>
                                <th>è»Šå‹</th>
                                <th>èµ·ç§Ÿæ—¥</th>
                                <th>è§£ç´„æ—¥</th>
                                <th>è³¼è»Šåƒ¹</th>
                                <th>ç§Ÿé‡‘æ”¶å…¥</th>
                                <th>è§£ç´„é‡‘</th>
                                <th>ç‡Ÿé‹æˆæœ¬</th>
                                <th>æç›Šç´¯è¨ˆ</th>
                                <th>æŒæœ‰å¹´é™</th>
                                <th>è§£ç´„åŸå› </th>
                                <th>å‚™è¨»</th>
                            </tr>
                        </thead>
                        <tbody id="terminatedTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- æç›Š -->
            <div id="profitability" class="tab-content">
                <h2 style="margin-bottom: 20px;">è»Šè¼›åˆ¥</h2>
                
                <div class="chart-row">
                    <div class="chart-container">
                        <canvas id="vehicleComparisonChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="marginRankChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="scatterChart"></canvas>
                </div>
            </div>
            
            <!-- æˆæœ¬ -->
            <div id="costs" class="tab-content">
                <h2 style="margin-bottom: 20px;">åœ–è¡¨åˆ¥</h2>
                
                <div class="chart-row">
                    <div class="chart-container">
                        <canvas id="costStructureChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="typeMarginChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="costStackChart"></canvas>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>è»ŠéšŠç‡Ÿé‹ç¸¾æ•ˆå ±è¡¨ | <span id="reportDate">2026-02-25</span> | JAM Dept. OALT</p>
        </div>
    </div>
    
    <script>
        // æ•¸æ“šè¼‰å…¥
        const fleetData = {
  "reportInfo": {
    "reportDate": "2026-02-27",
    "reportTitle": "ğŸ‘®å¤©é·¹ä¿å…¨è»ŠéšŠ",
    "company": "OALT_JBD Dept. "
  },
  "summary": {
    "totalVehicles": 30,
    "status": {
      "active": 29,
      "selfOwned": 1,
      "sold": 28,
      "terminated": 4
    },
    "avgMonthlyRevenue": 24695,
    "avgMonthlyExpense": 7722,
    "utilizationRate": 96.7
  },
  "vehicleTypes": {
    "Sedan": 26,
    "SUV": 1,
    "MPV": 3
  },
  "yearlyTrend": [
    {
      "year": 2021,
      "revenue": 5774563,
      "expense": 3934790,
      "profit": 1839773,
      "claimRate": 0.44,
      "utilization": 100
    },
    {
      "year": 2022,
      "revenue": 7085577,
      "expense": 4077142,
      "profit": 3008435,
      "claimRate": 0.44,
      "utilization": 100
    },
    {
      "year": 2023,
      "revenue": 8744272,
      "expense": 3694609,
      "profit": 5049663,
      "claimRate": 1.44,
      "utilization": 96.7
    },
    {
      "year": 2024,
      "revenue": 9306029,
      "expense": 3202077,
      "profit": 6103952,
      "claimRate": 0.74,
      "utilization": 96.7
    },
    {
      "year": 2025,
      "revenue": 8595524,
      "expense": 3158363,
      "profit": 5437161,
      "claimRate": 0.67,
      "utilization": 96.7
    },
    {
      "year": 2026,
      "revenue": 8854422,
      "expense": 2858841,
      "profit": 5234191,
      "claimRate": 0.69,
      "utilization": 96.7
    },
    {
      "year": 2027,
      "revenue": 8499354,
      "expense": 3026021,
      "profit": 5473333,
      "claimRate": 0.64,
      "utilization": 100
    },
    {
      "year": 2028,
      "revenue": 9533640,
      "expense": 4000000,
      "profit": 5533640,
      "claimRate": 0.6,
      "utilization": 100
    },
    {
      "year": 2029,
      "revenue": 9533640,
      "expense": 4000000,
      "profit": 5533600,
      "claimRate": 0.55,
      "utilization": 100
    },
    {
      "year": 2030,
      "revenue": 9533640,
      "expense": 4000000,
      "profit": 5533600,
      "claimRate": 0.48,
      "utilization": 100
    }
  ],
  "expiringVehicles": [
    {
      "id": "GA-21001",
      "plate": "RDH-8065",
      "model": "Luxgen M7",
      "type": "MPV",
      "leaseEnd": "2026-09-18",
      "revenue": 1033000,
      "cost": 796000,
      "profit": 285000,
      "margin": 7.8,
      "utilization": 78.5,
      "status": "critical",
      "recommendation": "å·²ä½¿ç”¨äº”å¹´ï¼Œå»ºè­°æ±°æ–°"
    },
    {
      "id": "GA-21002",
      "plate": "RDQ-0865",
      "model": "Honda CR-V",
      "type": "SUV",
      "leaseEnd": "2027-03-30",
      "revenue": 1001000,
      "cost": 1254000,
      "profit": 373000,
      "margin": 20.8,
      "utilization": 82.1,
      "status": "critical",
      "recommendation": "å·²ä½¿ç”¨å…­å¹´ï¼Œå»ºè­°æ±°æ–°"
    },
    {
      "id": "CEO-22001",
      "plate": "RFD-9786",
      "model": "Toyota Sienna",
      "type": "MPV",
      "leaseEnd": "2026-11-30",
      "revenue": 2100000,
      "cost": 3089000,
      "profit": 373000,
      "margin": 20.8,
      "utilization": 88.3,
      "status": "critical",
      "recommendation": "86000kmé«˜æ”¶ç›Šè»Šè¼›"
    },
    {
      "id": "HSR-23001",
      "plate": "RFA-8173",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23002",
      "plate": "RFA-8175",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23003",
      "plate": "RFA-8187",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23004",
      "plate": "RFA-8190",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23005",
      "plate": "RFA-8192",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23006",
      "plate": "RFA-8193",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23007",
      "plate": "RFA-8197",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23008",
      "plate": "RFA-8201",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23009",
      "plate": "RFA-8202",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23010",
      "plate": "RFA-8203",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23011",
      "plate": "RFA-8205",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23012",
      "plate": "RFA-8210",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23013",
      "plate": "RFA-8211",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23014",
      "plate": "RFA-8215",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23015",
      "plate": "RFA-8219",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23016",
      "plate": "RFA-8223",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23017",
      "plate": "RFA-8225",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23018",
      "plate": "RFA-8230",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23019",
      "plate": "RFA-8232",
      "make": "Toyota",
      "model": "Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23020",
      "plate": "RFA-8235",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23021",
      "plate": "RFA-8237",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23022",
      "plate": "RFA-8239",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23023",
      "plate": "RFA-8250",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23024",
      "plate": "RFA-8251",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23025",
      "plate": "RFA-8252",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"
    },
    {
      "id": "HSR-23026",
      "plate": "RFA-9715",
      "model": "Toyota Vios",
      "type": "Sedan",
      "leaseEnd": "2026-04-30",
      "revenue": 768000,
      "cost": 919000,
      "profit": 38000,
      "margin": 20.8,
      "utilization": 55.3,
      "status": "critical",
      "recommendation": "å·¡é‚è»Šé«˜ç¨¼å‹•,å¦‚æœŸæ›´æ–°"   
    }
  ],
  "soldVehicles": [
    {
      "id": "HSR-20001",
      "plate": "RCU-6701",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 147619,
      "totalRentalRevenue": 743424,
      "totalOperatingCost": 353683,
      "totalProfit": 24866,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "33.5è¬km"
    },
    {
      "id": "HSR-20002",
      "plate": "RCU-6702",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 154286,
      "totalRentalRevenue": 741484,
      "totalOperatingCost": 326754,
      "totalProfit": 56222,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "30.1è¬km"
    },
    {
      "id": "HSR-20003",
      "plate": "RCU-6703",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 171429,
      "totalRentalRevenue": 746190,
      "totalOperatingCost": 351446,
      "totalProfit": 53379,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "36è¬km"
    },
    {
      "id": "HSR-20004",
      "plate": "RCU-6713",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 164762,
      "totalRentalRevenue": 746200,
      "totalOperatingCost": 382451,
      "totalProfit": 15717,
      "holdingPeriod": 3.4,
      "status": "completed",
      "notes": "26.8è¬km"
    },
    {
      "id": "HSR-20005",
      "plate": "RCU-6715",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-11-16",
      "purchasePrice": 512794,
      "salePrice": 136190,
      "totalRentalRevenue": 792421,
      "totalOperatingCost": 397736,
      "totalProfit": 18081,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "31.3è¬km"
    },
    {
      "id": "HSR-20006",
      "plate": "RCU-6716",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 202857,
      "totalRentalRevenue": 770322,
      "totalOperatingCost": 403156,
      "totalProfit": 57229,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "30.8è¬km"
    },
    {
      "id": "HSR-20007",
      "plate": "RCU-6720",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-26",
      "purchasePrice": 512794,
      "salePrice": 170476,
      "totalRentalRevenue": 768768,
      "totalOperatingCost": 383830,
      "totalProfit": 42620,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "30è¬km"
    },
    {
      "id": "HSR-20008",
      "plate": "RCU-6721",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 109524,
      "totalRentalRevenue": 762533,
      "totalOperatingCost": 338750,
      "totalProfit": 20513,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "24.8è¬km"
    },
    {
      "id": "HSR-20009",
      "plate": "RCU-6723",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 126667,
      "totalRentalRevenue": 761657,
      "totalOperatingCost": 450339,
      "totalProfit": -74809,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "30è¬km"
    },
    {
      "id": "HSR-20010",
      "plate": "RCU-6730",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 171429,
      "totalRentalRevenue": 744353,
      "totalOperatingCost": 351446,
      "totalProfit": 51542,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "36.5è¬km"
    },
    {
      "id": "HSR-20011",
      "plate": "RCU-6732",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 187619,
      "totalRentalRevenue": 739048,
      "totalOperatingCost": 351446,
      "totalProfit": 62427,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "23.7è¬km"
    },
    {
      "id": "HSR-20012",
      "plate": "RCU-6733",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 191429,
      "totalRentalRevenue": 754895,
      "totalOperatingCost": 288537,
      "totalProfit": 144993,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "24.5è¬km"
    },
    {
      "id": "HSR-20013",
      "plate": "RCU-6735",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 171429,
      "totalRentalRevenue": 747771,
      "totalOperatingCost": 346717,
      "totalProfit": 59689,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "34.2è¬km"
    },
    {
      "id": "HSR-20014",
      "plate": "RCU-6750",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 176190,
      "totalRentalRevenue": 968096,
      "totalOperatingCost": 393361,
      "totalProfit": 238131,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "31.6è¬km æœ‰æ”¶å›å¾©è²»"
    },
    {
      "id": "HSR-20015",
      "plate": "RCU-6751",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 118095,
      "totalRentalRevenue": 735048,
      "totalOperatingCost": 334736,
      "totalProfit": 5613,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "28è¬km"
    },
    {
      "id": "HSR-20016",
      "plate": "RCU-6752",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 164762,
      "totalRentalRevenue": 735048,
      "totalOperatingCost": 349720,
      "totalProfit": 5613,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "29.4è¬km"
    },
    {
      "id": "HSR-20017",
      "plate": "RCU-6753",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 141905,
      "totalRentalRevenue": 746119,
      "totalOperatingCost": 438791,
      "totalProfit": 37296,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "40.9è¬km"
    },
    {
      "id": "HSR-20018",
      "plate": "RCU-6760",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 142857,
      "totalRentalRevenue": 746190,
      "totalOperatingCost": 445174,
      "totalProfit": -68921,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "36è¬km"
    },
    {
      "id": "HSR-20019",
      "plate": "RCU-6762",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 143810,
      "totalRentalRevenue": 735048,
      "totalOperatingCost": 326343,
      "totalProfit": 39721,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "32.3è¬km"
    },
    {
      "id": "HSR-20020",
      "plate": "RCU-6763",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 200000,
      "totalRentalRevenue": 735048,
      "totalOperatingCost": 245254,
      "totalProfit": 177000,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "25.1è¬km"
    },
    {
      "id": "HSR-20021",
      "plate": "RCU-6772",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 158095,
      "totalRentalRevenue": 742095,
      "totalOperatingCost": 246858,
      "totalProfit": 140538,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "23,1è¬km"
    },
    {
      "id": "HSR-20022",
      "plate": "RCU-6773",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "purchaseDate": "2020-04-30",
      "saleDate": "2023-10-02",
      "purchasePrice": 512794,
      "salePrice": 164762,
      "totalRentalRevenue": 735048,
      "totalOperatingCost": 245254,
      "totalProfit": 141762,
      "holdingPeriod": 3.3,
      "status": "completed",
      "notes": "24.1è¬km"
    }
  ],
  "terminatedVehicles": [
    {
      "id": "HSR-001",
      "plate": "TR-9999",
      "model": "Toyota Yaris",
      "type": "Sedan",
      "leaseStartDate": "2023-01-01",
      "terminationDate": "2025-02-01",
      "purchasePrice": 1500000,
      "rentalRevenueReceived": 1200000,
      "terminationFeeReceived": 200000,
      "totalOperatingCost": 800000,
      "totalProfit": 600000,
      "holdingPeriod": 2.1,
      "terminationReason": "å®¢æˆ¶æ¥­å‹™ç¸®æ¸›",
      "status": "terminated",
      "notes": "å·²æ”¶å–é•ç´„é‡‘çµæ¡ˆ"
    },
    {
      "id": "HSR-002",
      "plate": "TR-8888",
      "model": "Altis",
      "type": "Sedan",
      "leaseStartDate": "2024-01-01",
      "terminationDate": "2025-01-15",
      "purchasePrice": 700000,
      "rentalRevenueReceived": 300000,
      "terminationFeeReceived": 50000,
      "totalOperatingCost": 200000,
      "totalProfit": -550000,
      "holdingPeriod": 1.0,
      "terminationReason": "äº‹æ•…å…¨æ",
      "status": "terminated",
      "notes": "è»Šè¼›æ”¶å›å¾…å”®"
    },
    {
      "id": "HSR-003",
      "plate": "TR-7777",
      "model": "CR-V",
      "type": "SUV",
      "leaseStartDate": "2023-06-01",
      "terminationDate": "2024-12-01",
      "purchasePrice": 1000000,
      "rentalRevenueReceived": 600000,
      "terminationFeeReceived": 100000,
      "totalOperatingCost": 300000,
      "totalProfit": 400000,
      "holdingPeriod": 1.5,
      "terminationReason": "äº‹æ•…å…¨æ",
      "status": "terminated",
      "notes": "æ‰‹çºŒè²»å·²çµæ¸…"
    },
    {
      "id": "HSR-004",
      "plate": "TR-6666",
      "model": "Vios",
      "type": "Sedan",
      "leaseStartDate": "2022-01-01",
      "terminationDate": "2024-06-01",
      "purchasePrice": 500000,
      "rentalRevenueReceived": 500000,
      "terminationFeeReceived": 30000,
      "totalOperatingCost": 200000,
      "totalProfit": 330000,
      "holdingPeriod": 2.5,
      "terminationReason": "äº‹æ•…å…¨æ",
      "status": "terminated",
      "notes": "æœ¬é‡‘æç›Š"
    }
  ],
  "costBreakdown": {
    "purchase": 45,
    "tax": 12,
    "maintenance": 18,
    "insurance": 20,
    "others": 5
  }
};
        
        // åˆå§‹åŒ–
        document.getElementById('reportDate').textContent = fleetData.reportDate;
        document.getElementById('totalVehicles').textContent = fleetData.summary.totalVehicles;
        document.getElementById('activeVehicles').textContent = fleetData.summary.status.active;
        document.getElementById('idleVehicles').textContent = fleetData.summary.status.idle;
        document.getElementById('maintenanceVehicles').textContent = fleetData.summary.status.maintenance;
        document.getElementById('soldVehicles').textContent = fleetData.summary.status.sold;
        document.getElementById('terminatedVehicles').textContent = fleetData.summary.status.terminated;
        
        // æ¨™ç±¤åˆ‡æ›
        function switchTab(tabName) {
            const contents = document.querySelectorAll('.tab-content');
            const buttons = document.querySelectorAll('.tab-btn');
            
            contents.forEach(c => c.classList.remove('active'));
            buttons.forEach(b => b.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            setTimeout(() => {
                if (tabName === 'overview') initOverviewCharts();
                else if (tabName === 'trends') initTrendCharts();
                else if (tabName === 'vehicles') { initVehicleCharts(); populateVehicleTable(); }
                else if (tabName === 'sold') populateSoldTable();
                else if (tabName === 'terminated') populateTerminatedTable();
                else if (tabName === 'profitability') initProfitabilityCharts();
                else if (tabName === 'costs') initCostCharts();
            }, 100);
        }
        
        // åœ–è¡¨é…ç½®
        const chartConfig = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    labels: {
                        font: { size: 12 },
                        padding: 15
                    }
                }
            }
        };
        
        // åˆå§‹åŒ–è»ŠéšŠç¸½è¦½åœ–è¡¨
        function initOverviewCharts() {
            new Chart(document.getElementById('statusChart'), {
                type: 'doughnut',
                data: {
                    labels: ['ä½¿ç”¨ä¸­', 'è‡ªè³¼', 'ç¶­ä¿®ä¸­', 'ä¸­é€”è§£ç´„', 'å·²å‡ºå”®'],
                    datasets: [{
                        data: [29, 1, 0, 4, 28],
                        backgroundColor: ['#51cf66', '#ffd93d', '#ff922b', '#ff6b6b', '#868e96']
                    }]
                },
                options: chartConfig
            });
            
            new Chart(document.getElementById('typeChart'), {
                type: 'doughnut',
                data: {
                    labels: ['Sedan', 'SUV', 'MPV'],
                    datasets: [{
                        data: [27, 1, 2],
                        backgroundColor: ['#667eea', '#f093fb', '#00f2fe']
                    }]
                },
                options: chartConfig
            });
            
            new Chart(document.getElementById('ageChart'), {
                type: 'bar',
                data: {
                    labels: ['<1å¹´', '1-3å¹´', '3-5å¹´', '>5å¹´'],
                    datasets: [{
                        label: 'è»Šè¼›å°æ•¸',
                        data: [0, 28, 2, 0],
                        backgroundColor: '#667eea'
                    }]
                },
                options: chartConfig
            });
            
            new Chart(document.getElementById('typePerformanceChart'), {
                type: 'bar',
                data: {
                    labels: ['Sedan', 'SUV', 'MPV'],
                    datasets: [
                        {
                            label: 'åˆ©æ½¤ç‡ (%)',
                            data: [12.5, 18.2, 10.5],
                            backgroundColor: '#667eea'
                        }
                    ]
                },
                options: chartConfig
            });
        }
        
        // åˆå§‹åŒ–å¹´åº¦è¶¨å‹¢åœ–è¡¨
        function initTrendCharts() {
            const years = fleetData.yearlyTrend.map(y => y.year);
            const revenues = fleetData.yearlyTrend.map(y => y.revenue / 1000000);
            const expenses = fleetData.yearlyTrend.map(y => y.expense / 1000000);
            const profits = fleetData.yearlyTrend.map(y => y.profit / 1000000);
            
            new Chart(document.getElementById('revenueChart'), {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [
                        {
                            label: 'æ”¶ç›Š',
                            data: revenues,
                            borderColor: '#51cf66',
                            backgroundColor: 'rgba(81, 207, 102, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'æˆæœ¬',
                            data: expenses,
                            borderColor: '#ff6b6b',
                            backgroundColor: 'rgba(255, 107, 107, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'æ·¨åˆ©',
                            data: profits,
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)',
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: chartConfig
            });
            
            new Chart(document.getElementById('claimRateChart'), {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [{
                        label: 'å‡ºéšªç‡ (%)',
                        data: fleetData.yearlyTrend.map(y => y.claimRate),
                        borderColor: '#ff922b',
                        backgroundColor: 'rgba(255, 146, 43, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: chartConfig
            });
            
            new Chart(document.getElementById('utilizationChart'), {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [{
                        label: 'ä½¿ç”¨ç‡ (%)',
                        data: fleetData.yearlyTrend.map(y => y.utilization),
                        borderColor: '#4facfe',
                        backgroundColor: 'rgba(79, 172, 254, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: chartConfig
            });
            
            new Chart(document.getElementById('profitTrendChart'), {
                type: 'bar',
                data: {
                    labels: years,
                    datasets: [{
                        label: 'å¹´åº¦æ·¨åˆ© (ç™¾è¬å…ƒ)',
                        data: profits,
                        backgroundColor: years.map((y, i) => fleetData.yearlyTrend[i].forecast ? '#ffd93d' : '#667eea')
                    }]
                },
                options: chartConfig
            });
        }
        
        // åˆå§‹åŒ–è»Šè¼›åˆ†æåœ–è¡¨
        function initVehicleCharts() {
            const vehicles = fleetData.expiringVehicles;
            
            new Chart(document.getElementById('expiryTimelineChart'), {
                type: 'bar',
                data: {
                    labels: vehicles.map(v => v.id),
                    datasets: [{
                        label: 'è·é›¢åˆ°æœŸå¤©æ•¸',
                        data: vehicles.map(v => Math.ceil((new Date(v.leaseEnd) - new Date()) / (1000 * 60 * 60 * 24))),
                        backgroundColor: vehicles.map(v => {
                            if (v.status === 'critical') return '#ff6b6b';
                            if (v.status === 'warning') return '#ffd93d';
                            return '#51cf66';
                        })
                    }]
                },
                options: chartConfig
            });
            
            new Chart(document.getElementById('expiryProfitChart'), {
                type: 'bar',
                data: {
                    labels: vehicles.map(v => v.id),
                    datasets: [{
                        label: 'æ·¨åˆ© (è¬å…ƒ)',
                        data: vehicles.map(v => v.profit / 10000),
                        backgroundColor: vehicles.map(v => v.profit > 0 ? '#51cf66' : '#ff6b6b')
                    }]
                },
                options: chartConfig
            });
        }
        
        // å¡«å……è»Šè¼›è¡¨æ ¼
        function populateVehicleTable() {
            const tbody = document.getElementById('vehicleTableBody');
            tbody.innerHTML = '';
            
            fleetData.expiringVehicles.forEach(v => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${v.id}</td>
                    <td>${v.plate}</td>
                    <td>${v.type}</td>
                    <td>${v.leaseEnd}</td>
                    <td>$${(v.revenue / 1000000).toFixed(2)}M</td>
                    <td>$${(v.cost / 1000000).toFixed(2)}M</td>
                    <td>$${(v.profit / 10000).toFixed(0)}è¬</td>
                    <td>${v.margin.toFixed(1)}%</td>
                    <td>${v.utilization}%</td>
                    <td><span class="status-badge status-${v.status}">${v.status === 'critical' ? 'ğŸ”´ ç·Šæ€¥' : v.status === 'warning' ? 'ğŸŸ¡ è­¦ç¤º' : 'ğŸŸ¢ ä¸€èˆ¬'}</span></td>
                    <td>${v.recommendation}</td>
                `;
            });
        }

        // å¡«å……å·²å‡ºå”®è»Šè¼›è¡¨æ ¼
        function populateSoldTable() {
            const tbody = document.getElementById('soldTableBody');
            tbody.innerHTML = '';
            
            let totalPurchase = 0, totalSale = 0, totalRental = 0, totalCost = 0, totalProfit = 0;
            
            fleetData.soldVehicles.forEach(v => {
                totalPurchase += v.purchasePrice;
                totalSale += v.salePrice;
                totalRental += v.totalRentalRevenue;
                totalCost += v.totalOperatingCost;
                totalProfit += v.totalProfit;
                
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${v.id}</td>
                    <td>${v.plate}</td>
                    <td>${v.type}</td>
                    <td>${v.purchaseDate}</td>
                    <td>${v.saleDate}</td>
                    <td>$${(v.purchasePrice / 1000000).toFixed(2)}M</td>
                    <td>$${(v.salePrice / 1000000).toFixed(2)}M</td>
                    <td>$${(v.totalRentalRevenue / 1000000).toFixed(2)}M</td>
                    <td>$${(v.totalOperatingCost / 1000000).toFixed(2)}M</td>
                    <td class="profit-positive">$${(v.totalProfit / 10000).toFixed(0)}è¬</td>
                    <td>${v.holdingPeriod.toFixed(1)}å¹´</td>
                    <td>${v.notes}</td>
                `;
            });
            
            document.getElementById('soldCount').textContent = fleetData.soldVehicles.length;
            document.getElementById('soldTotalPurchase').textContent = '$' + (totalPurchase / 1000000).toFixed(1) + 'M';
            document.getElementById('soldTotalSale').textContent = '$' + (totalSale / 1000000).toFixed(2) + 'M';
            document.getElementById('soldTotalRental').textContent = '$' + (totalRental / 1000000).toFixed(1) + 'M';
            document.getElementById('soldTotalCost').textContent = '$' + (totalCost / 1000000).toFixed(2) + 'M';
            document.getElementById('soldTotalProfit').textContent = '$' + (totalProfit / 1000000).toFixed(2) + 'M';
        }

        // å¡«å……è§£ç´„è»Šè¼›è¡¨æ ¼
        function populateTerminatedTable() {
            const tbody = document.getElementById('terminatedTableBody');
            tbody.innerHTML = '';
            
            let totalPurchase = 0, totalRental = 0, totalFee = 0, totalCost = 0, totalProfit = 0;
            
            fleetData.terminatedVehicles.forEach(v => {
                totalPurchase += v.purchasePrice;
                totalRental += v.rentalRevenueReceived;
                totalFee += v.terminationFeeReceived;
                totalCost += v.totalOperatingCost;
                totalProfit += v.totalProfit;
                
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${v.id}</td>
                    <td>${v.plate}</td>
                    <td>${v.type}</td>
                    <td>${v.leaseStartDate}</td>
                    <td>${v.terminationDate}</td>
                    <td>$${(v.purchasePrice / 1000000).toFixed(2)}M</td>
                    <td>$${(v.rentalRevenueReceived / 1000000).toFixed(2)}M</td>
                    <td>$${(v.terminationFeeReceived / 10000).toFixed(0)}è¬</td>
                    <td>$${(v.totalOperatingCost / 1000000).toFixed(2)}M</td>
                    <td class="profit-positive">$${(v.totalProfit / 10000).toFixed(0)}è¬</td>
                    <td>${v.holdingPeriod.toFixed(1)}å¹´</td>
                    <td>${v.terminationReason}</td>
                    <td>${v.notes}</td>
                `;
            });
            
            document.getElementById('termCount').textContent = fleetData.terminatedVehicles.length;
            document.getElementById('termTotalPurchase').textContent = '$' + (totalPurchase / 1000000).toFixed(1) + 'M';
            document.getElementById('termTotalRental').textContent = '$' + (totalRental / 1000000).toFixed(2) + 'M';
            document.getElementById('termTotalFee').textContent = '$' + (totalFee / 1000000).toFixed(2) + 'M';
            document.getElementById('termTotalCost').textContent = '$' + (totalCost / 1000000).toFixed(2) + 'M';
            document.getElementById('termTotalProfit').textContent = '$' + (totalProfit / 1000000).toFixed(2) + 'M';
        }
        
        // è»Šè¼›éæ¿¾
        function filterVehicles() {
            const searchText = document.getElementById('searchVehicle').value.toLowerCase();
            const statusFilter = document.getElementById('statusFilter').value;
            
            const rows = document.querySelectorAll('#vehicleTableBody tr');
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                const status = row.querySelector('.status-badge').className.includes(statusFilter) || statusFilter === '';
                row.style.display = (text.includes(searchText) && status) ? '' : 'none';
            });
        }
        
        // åˆå§‹åŒ–å€‹åˆ¥æç›Šåœ–è¡¨
        function initProfitabilityCharts() {
            const vehicles = fleetData.expiringVehicles;
            
            new Chart(document.getElementById('vehicleComparisonChart'), {
                type: 'bar',
                data: {
                    labels: vehicles.map(v => v.id),
                    datasets: [
                        {
                            label: 'æ”¶ç›Š',
                            data: vehicles.map(v => v.revenue / 1000000),
                            backgroundColor: '#51cf66'
                        },
                        {
                            label: 'æˆæœ¬',
                            data: vehicles.map(v => v.cost / 1000000),
                            backgroundColor: '#ff6b6b'
                        },
                        {
                            label: 'æ·¨åˆ©',
                            data: vehicles.map(v => v.profit / 1000000),
                            backgroundColor: '#667eea'
                        }
                    ]
                },
                options: chartConfig
            });
            
            new Chart(document.getElementById('marginRankChart'), {
                type: 'bar',
                data: {
                    labels: vehicles.map(v => v.id),
                    datasets: [{
                        label: 'åˆ©æ½¤ç‡ (%)',
                        data: vehicles.map(v => v.margin),
                        backgroundColor: vehicles.map(v => v.margin > 0 ? '#51cf66' : '#ff6b6b')
                    }]
                },
                options: {
                    ...chartConfig,
                    indexAxis: 'y'
                }
            });
            
            new Chart(document.getElementById('scatterChart'), {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'è»Šè¼›ç¸¾æ•ˆ',
                        data: vehicles.map(v => ({x: v.utilization, y: v.margin})),
                        backgroundColor: vehicles.map(v => {
                            if (v.status === 'critical') return '#ff6b6b';
                            if (v.status === 'warning') return '#ffd93d';
                            return '#51cf66';
                        }),
                        pointRadius: 8
                    }]
                },
                options: {
                    ...chartConfig,
                    scales: {
                        x: { title: { display: true, text: 'ä½¿ç”¨ç‡ (%)' } },
                        y: { title: { display: true, text: 'åˆ©æ½¤ç‡ (%)' } }
                    }
                }
            });
        }
        
        // åˆå§‹åŒ–æˆæœ¬çµæ§‹åœ–è¡¨
        function initCostCharts() {
            new Chart(document.getElementById('costStructureChart'), {
                type: 'doughnut',
                data: {
                    labels: ['è³¼è»Š', 'ç¨…é‡‘', 'ä¿ä¿®', 'ä¿éšª', 'å…¶ä»–'],
                    datasets: [{
                        data: [45.0, 12.5, 18.5, 15.0, 9.0],
                        backgroundColor: ['#667eea', '#764ba2', '#f093fb', '#4facfe', '#868e96']
                    }]
                },
                options: chartConfig
            });
            
            new Chart(document.getElementById('typeMarginChart'), {
                type: 'bar',
                data: {
                    labels: fleetData.typePerformance.map(t => t.type),
                    datasets: [{
                        label: 'åˆ©æ½¤ç‡ (%)',
                        data: fleetData.typePerformance.map(t => t.profitMargin),
                        backgroundColor: '#667eea'
                    }]
                },
                options: chartConfig
            });
            
            new Chart(document.getElementById('costStackChart'), {
                type: 'bar',
                data: {
                    labels: fleetData.expiringVehicles.map(v => v.id),
                    datasets: [{
                        label: 'æˆæœ¬ (ç™¾è¬å…ƒ)',
                        data: fleetData.expiringVehicles.map(v => v.cost / 1000000),
                        backgroundColor: '#667eea'
                    }]
                },
                options: chartConfig
            });
        }
        
        // åˆå§‹åŒ–é¦–é åœ–è¡¨
        initOverviewCharts();
    </script>
</body>
    </html>
